import streamlit as st
import pandas as pd

st.subheader('üêº–†–∞–±–æ—Ç–∞ —Å –¥–∞–Ω–Ω—ã–º–∏ Pandas —Ñ–æ—Ä–º–∞—Ç–∞ json')
# –°–æ–∑–¥–∞–µ–º –≤–∫–ª–∞–¥–∫–∏ –¥–ª—è –¥–∞–Ω–Ω—ã—Ö
t1, t2 = st.tabs(["üì∂–ù–∞–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö DataFrame",
                  "üìÇ–ù–∞–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Ñ–∞–π–ª–∞ json"])

# —Å–æ–∑–¥–∞–µ–º DataFrame –∏–∑ —Å–ª–æ–≤–∞—Ä—è
data = {'–ò–º—è': ['–ú–∏—Ö–∞–∏–ª', '–ï–ª–µ–Ω–∞', '–í–∞—Å–∏–ª–∏–π'],
        '–í–æ–∑—Ä–∞—Å—Ç': [30, 25, 40],
        '–ó–∞—Ä–ø–ª–∞—Ç–∞': [50000.0, 60000.0, 70000.0],
        '–î–∞—Ç–∞': ['2025-01-01', '2025-02-15', '2025-03-30']}
df = pd.DataFrame(data)

# –í–∫–ª–∞–¥–∫–∞ —Å –¥–∞–Ω–Ω—ã–º–∏
with t1:
    st.subheader('üì∂–°–æ–∑–¥–∞–Ω–Ω—ã–π –Ω–∞–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö - df')
    # –°–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
    with st.container(width=500):
        st.write(df)

# –ü—É—Ç—å –∫ –∏—Å—Ö–æ–¥–Ω–æ–º—É csv —Ñ–∞–π–ª—É
path_json = 'csv/person.json'
# –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ —Ñ–∞–π–ª JSON
df.to_json(path_json, force_ascii=False)
# –ü—Ä–æ—á–∏—Ç–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ñ–∞–π–ª–∞ JSON
df_r = pd.read_json(path_json)

with t2:
    st.subheader('üìÇ–ù–∞–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Ñ–∞–π–ª–∞ JSON - df_r')
    with st.container(width=500):
        st.write(df_r)