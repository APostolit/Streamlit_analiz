import streamlit as st
import pandas as pd

st.subheader('üêº–ß—Ç–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö Pandas –∏–∑ —Å—Ç—Ä–æ–∫–∏ json')
# –°–æ–∑–¥–∞–µ–º –≤–∫–ª–∞–¥–∫–∏ –¥–ª—è –¥–∞–Ω–Ω—ã—Ö
t1, t2 = st.tabs(["üì∂–ù–∞–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö DataFrame",
                  "üìÉ–ù–∞–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Å—Ç—Ä–æ–∫–∏ json"])

# —Å–æ–∑–¥–∞–µ–º DataFrame –∏–∑ —Å–ª–æ–≤–∞—Ä—è
data = {'–ò–º—è': ['–ú–∏—Ö–∞–∏–ª', '–ï–ª–µ–Ω–∞', '–í–∞—Å–∏–ª–∏–π'],
        '–í–æ–∑—Ä–∞—Å—Ç': [30, 25, 40],
        '–ó–∞—Ä–ø–ª–∞—Ç–∞': [50000.0, 60000.0, 70000.0],
        '–î–∞—Ç–∞': ['2025-01-01', '2025-02-15', '2025-03-30']}
df = pd.DataFrame(data)

# –í–∫–ª–∞–¥–∫–∞ —Å –¥–∞–Ω–Ω—ã–º–∏
with t1:
    st.subheader('üì∂–°–æ–∑–¥–∞–Ω–Ω—ã–π –Ω–∞–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö - df')
    # –°–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
    with st.container(width=500):
        st.write(df)

# –ó–∞–ø–∏—Å—å –Ω–∞–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –≤ —Å—Ç—Ä–æ–∫–æ–≤—ã–π –æ–±—ä–µ–∫—Ç
data_json = df.to_json(orient='index')
# –ß—Ç–µ–Ω–∏–µ –Ω–∞–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Å—Ç—Ä–æ–∫–æ–≤–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞
df_r = pd.read_json(data_json, orient='index')

# –í–∫–ª–∞–¥–∫–∞ —Å –¥–∞–Ω–Ω—ã–º–∏
with t2:
    st.subheader('üìÉ–ù–∞–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Å—Ç—Ä–æ–∫–∏ JSON - df_r')
    # –°–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
    with st.container(width=500):
        st.write(df_r)